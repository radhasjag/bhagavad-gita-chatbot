2024-10-30 21:04:57,924 - GitaChatbot - ERROR - Error occurred: {
  "timestamp": "2024-10-30T21:04:57.924015",
  "session_id": "system",
  "error_type": "UnboundLocalError",
  "error_message": "cannot access local variable 'session_id' where it is not associated with a value",
  "traceback": "Traceback (most recent call last):\n  File \"/home/runner/SrikrishnaBot/response_generator.py\", line 66, in generate_response\n    start_time = time.time()\n                 ^^^^\nNameError: name 'time' is not defined\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/runner/SrikrishnaBot/main.py\", line 37, in main\n    response_data = response_generator.generate_response(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/SrikrishnaBot/response_generator.py\", line 141, in generate_response\n    monitor.log_error(session_id, e, {\"context\": \"generate_response\"})\n                      ^^^^^^^^^^\nUnboundLocalError: cannot access local variable 'session_id' where it is not associated with a value\n",
  "context": {
    "context": "main_execution"
  }
}
2024-10-30 21:07:56,731 - GitaChatbot - INFO - New interaction - Session: -7533205884483695561, Question: How would we know that I am progressing in the spirtual path that I seek?
2024-10-30 21:07:56,732 - GitaChatbot - INFO - Performance metric - verses_found: 3, Context: {"type": "verse_processing"}
2024-10-30 21:07:56,909 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2024-10-30 21:07:56,913 - GitaChatbot - ERROR - Error occurred: {
  "timestamp": "2024-10-30T21:07:56.910600",
  "session_id": "-7533205884483695561",
  "error_type": "BadRequestError",
  "error_message": "Error code: 400 - {'error': {'message': \"Invalid parameter: 'response_format' of type 'json_object' is not supported with this model.\", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}",
  "traceback": "Traceback (most recent call last):\n  File \"/home/runner/SrikrishnaBot/response_generator.py\", line 115, in generate_response\n    response = self.client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/SrikrishnaBot/.pythonlibs/lib/python3.11/site-packages/openai/_utils/_utils.py\", line 274, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/SrikrishnaBot/.pythonlibs/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 815, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/home/runner/SrikrishnaBot/.pythonlibs/lib/python3.11/site-packages/openai/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/SrikrishnaBot/.pythonlibs/lib/python3.11/site-packages/openai/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/SrikrishnaBot/.pythonlibs/lib/python3.11/site-packages/openai/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.BadRequestError: Error code: 400 - {'error': {'message': \"Invalid parameter: 'response_format' of type 'json_object' is not supported with this model.\", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}\n",
  "context": {
    "context": "api_call"
  }
}
2024-10-30 21:07:56,918 - GitaChatbot - INFO - Performance metric - total_response_time: 0.18932509422302246, Context: {"question_length": 73}
2024-10-30 21:18:19,430 - GitaChatbot - INFO - New interaction - Session: -9221957604134191729, Question: How would we know that we are progressing in the spiritual path? 
2024-10-30 21:18:19,431 - GitaChatbot - INFO - Performance metric - verses_found: 3, Context: {"type": "verse_processing"}
2024-10-30 21:18:37,577 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-10-30 21:18:37,583 - GitaChatbot - INFO - Performance metric - total_response_time: 18.15587091445923, Context: {"question_length": 65}
2024-10-30 21:30:50,239 - GitaChatbot - INFO - New interaction - Session: 1323101747338620538, Question: How is this universe built and what is the purpose of creation? 
2024-10-30 21:30:50,239 - GitaChatbot - INFO - Performance metric - verses_found: 3, Context: {"type": "verse_processing"}
2024-10-30 21:31:10,518 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-10-30 21:31:10,523 - GitaChatbot - INFO - Performance metric - cache_miss: 1, Context: {"function": "process_question"}
2024-10-30 21:31:10,525 - GitaChatbot - INFO - Performance metric - total_response_time: 20.29078984260559, Context: {"question_length": 64, "session_id": "2281134785644635474"}
2024-10-30 21:33:44,664 - GitaChatbot - INFO - New interaction - Session: 1323101747338620538, Question: How is this universe built and what is the purpose of creation? 
2024-10-30 21:33:44,664 - GitaChatbot - INFO - Performance metric - verses_found: 3, Context: {"type": "verse_processing"}
2024-10-30 21:34:01,162 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-10-30 21:34:01,163 - GitaChatbot - INFO - Performance metric - cache_miss: 1, Context: {"function": "process_question"}
2024-10-30 21:34:01,166 - GitaChatbot - INFO - Performance metric - total_response_time: 16.505666971206665, Context: {"question_length": 64, "session_id": "413960082274035148"}
2024-10-30 21:34:12,280 - GitaChatbot - INFO - New interaction - Session: 1323101747338620538, Question: How is this universe built and what is the purpose of creation? 
2024-10-30 21:34:12,280 - GitaChatbot - INFO - Performance metric - conversation_history_length: 473, Context: {"type": "formatting"}
2024-10-30 21:34:12,281 - GitaChatbot - INFO - Performance metric - verses_found: 3, Context: {"type": "verse_processing"}
2024-10-30 21:34:34,066 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-10-30 21:34:34,068 - GitaChatbot - INFO - Performance metric - cache_miss: 1, Context: {"function": "process_question"}
2024-10-30 21:34:48,106 - GitaChatbot - INFO - New interaction - Session: 1323101747338620538, Question: How is this universe built and what is the purpose of creation? 
2024-10-30 21:34:48,106 - GitaChatbot - INFO - Performance metric - verses_found: 3, Context: {"type": "verse_processing"}
2024-10-30 21:35:10,721 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-10-30 21:35:10,723 - GitaChatbot - INFO - Performance metric - cache_miss: 1, Context: {"function": "process_question"}
2024-10-30 21:35:10,725 - GitaChatbot - INFO - Performance metric - total_response_time: 22.622313022613525, Context: {"question_length": 64, "session_id": "1767615026717435503"}
2024-10-30 21:52:44,313 - GitaChatbot - INFO - New interaction - Session: 9195947557993240017, Question: If people are asking me for help but I know they are misusing my generosity and exploiting me. Should I teach them a lesson or patiently let them exploit because I should not do cruel deeds?
2024-10-30 21:52:44,314 - GitaChatbot - INFO - Performance metric - verses_found: 3, Context: {"type": "verse_processing"}
2024-10-30 21:53:03,016 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-10-30 21:53:03,018 - GitaChatbot - INFO - Performance metric - cache_miss: 1, Context: {"function": "process_question"}
2024-10-30 21:53:03,020 - GitaChatbot - INFO - Performance metric - total_response_time: 18.710888147354126, Context: {"question_length": 190, "session_id": "1290312081297549302"}
2024-10-30 21:54:01,092 - GitaChatbot - INFO - New interaction - Session: -8791137533506498501, Question: It is causing my family distress. So should I stop helping those people who are exploiting me?
2024-10-30 21:54:01,093 - GitaChatbot - INFO - Performance metric - conversation_history_length: 549, Context: {"type": "formatting"}
2024-10-30 21:54:01,093 - GitaChatbot - INFO - Performance metric - verses_found: 3, Context: {"type": "verse_processing"}
2024-10-30 21:54:15,594 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-10-30 21:54:15,596 - GitaChatbot - INFO - Performance metric - cache_miss: 1, Context: {"function": "process_question"}
2024-10-30 21:54:15,599 - GitaChatbot - INFO - Performance metric - total_response_time: 14.510125398635864, Context: {"question_length": 94, "session_id": "1290312081297549302"}
2024-10-31 20:37:10,405 - GitaChatbot - INFO - New interaction - Session: -4986427663527626026, Question: I am feeling lazy and I did not shower though it is a festival. Will I get punished for being lazy by karma?
2024-10-31 20:37:10,455 - GitaChatbot - INFO - Performance metric - verses_found: 3, Context: {"type": "verse_processing"}
2024-10-31 20:37:28,046 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-10-31 20:37:28,050 - GitaChatbot - INFO - Performance metric - cache_miss: 1, Context: {"function": "process_question"}
2024-10-31 20:37:28,052 - GitaChatbot - INFO - Performance metric - total_response_time: 17.651712894439697, Context: {"question_length": 108, "session_id": "2127314208430483971"}
